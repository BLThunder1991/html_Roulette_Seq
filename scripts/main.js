var RouletteSeqence=function(){"use strict";console.log("RouletteSeqence Init");var t=!1,n=function(){var t=[""];Array.prototype.map.call(document.getElementsByClassName("table-cont-name"),function(n){t.push(n.innerHTML)}),window.location.hash=encodeURI(t.reduce(function(t,n){return t+"&"+n}))},e=function(t){var e=$('<tr class="table-content seq-checked">  <td class="table-cont-num" >#</td>  <td class="table-cont-name"></td>  <td>    <input  class="table-cont-use" type="checkbox" checked />  </td>  <td>    <button class="btn btn-danger table-cont-del">      <span class="glyphicon glyphicon-remove"></span>      削除</button>  </td></tr>');e.on("click",".table-cont-del",function(){$(this).closest(".table-content").hide("fast",function(){$(this).remove(),n()})}).find(".table-cont-name").html(t),e.hide().appendTo("#resultContainer").show("fast"),n()},o=function(t){for(var n,e,o=t.length;o;)e=Math.floor(Math.random()*o--),n=t[o],t[o]=t[e],t[e]=n;return t},c=function(){if(t)return!0;t=!0;var n=$(".table-cont-use:checked").closest(".table-content"),e=$(".table-content").not(n);$(".table-content").remove();var c=o(n),a=(c.length,[]);return Array.prototype.forEach.call(c,function(t,n){$(t).find(".table-cont-num").html(n+1),a.push(t)}),e.find(".table-cont-num").html("#"),a=a.concat(e),a.forEach(function(n,e,o){setTimeout(function(){$(n).on("click",".table-cont-del",function(){$(this).closest(".table-content").hide("fast",function(){$(this).remove()})}).appendTo("#resultContainer").show("fast"),e==o.length-1&&(t=!1)},500*(e+1))}),!0};$("#seqButton").on("click",function(){return t?!0:(c(),!0)});var a={};if(a.Enter="13",$("#addNameBox").focus().on("keydown",function(t){var n=t.keyCode?t.keyCode:t.which;if(n==a.Enter&&""!=$(this).val()){var o=$(this).val();e(o),$(this).val("")}return!0}),$("#addNameButton").on("click",function(){var t=$("#addNameBox").val();return""===t?!0:(e(t),$("#addNameBox").val(""),!0)}),window.location.hash)try{var l=decodeURI(window.location.hash).replace("#","").split("&");l.map(function(t){e(t)})}catch(r){console.log("URI Parse Error!")}};RouletteSeqence();